# MediaForge プロジェクト概要

## プロジェクトの目的

MediaForgeは、画像、動画、音声ファイルの形式変換を簡単に行えるWebアプリケーションです。
ユーザーフレンドリーなインターフェースで、複雑な変換作業を簡単に実行できることを目指しています。

## プロジェクトの目標

1. **使いやすさ**: ドラッグ&ドロップで直感的にファイルをアップロード
2. **多様性**: 画像、動画、音声の主要な形式をサポート
3. **品質**: 高品質な変換結果を提供
4. **パフォーマンス**: 非同期処理による高速な変換
5. **美しいUI**: モダンでApple風のデザイン

## プロジェクトルール

### コーディング規約
- Pythonのコードは PEP 8 に準拠
- 1ファイルあたり1000行以内を目標
- 関数は単一責任の原則に従う
- 適切なエラーハンドリングを実装

### ファイル構成
- バックエンドロジックは `app/services/` に配置
- APIエンドポイントは `app/routers/` に配置
- ユーティリティ関数は `app/utils/` に配置

### フロントエンド
- HTML, CSS, JavaScriptを分離
- 静的ファイルは `static/` ディレクトリに配置
- テンプレートは `templates/` ディレクトリに配置

## 活用技術

### バックエンド
- **FastAPI**: 高速で現代的なWebフレームワーク
- **Python 3.8+**: メインプログラミング言語
- **Uvicorn**: ASGIサーバー
- **aiofiles**: 非同期ファイル操作

### メディア処理
- **Pillow (PIL)**: 画像処理ライブラリ
- **FFmpeg**: 動画・音声処理（システムレベル）
- **ffmpeg-python**: FFmpegのPythonバインディング
- **Pydub**: 音声処理ライブラリ

### フロントエンド
- **HTMX**: 動的なUI更新
- **Tailwind CSS**: モダンなスタイリング
- **Vanilla JavaScript**: クライアントサイドロジック

### 開発ツール
- **Python Virtual Environment**: 依存関係の分離
- **pip**: パッケージ管理

## アーキテクチャ

### レイヤー構造
1. **プレゼンテーション層**: HTML/CSS/JS（templates/, static/）
2. **API層**: FastAPIルーター（app/routers/）
3. **ビジネスロジック層**: 変換サービス（app/services/）
4. **ユーティリティ層**: 共通機能（app/utils/）

### 非同期処理
- FastAPIの非同期機能を活用
- ファイルI/Oは `aiofiles` で非同期化
- FFmpegの実行は `asyncio.to_thread()` で非同期化

### エラーハンドリング
- 各レイヤーで適切なエラーハンドリング
- ユーザーフレンドリーなエラーメッセージ
- ログによる詳細な追跡

## セキュリティ考慮事項

1. ファイルタイプの検証
2. ファイルサイズの制限
3. 一時ファイルの自動クリーンアップ
4. 安全なファイル名生成（UUID使用）

## 今後の拡張予定

1. 音声変換機能の完全実装
2. バッチ変換機能
3. プログレスバーの実装
4. ファイル履歴管理
5. ユーザーアカウント機能
6. クラウドストレージ連携
