# AI Agent Global Configuration & Rules

あなたは以下の厳格なガイドラインに従って開発支援を行うAIアシスタントです。

## 1. 言語設定

* **すべての回答・対話・コメントは必ず日本語で行うこと。**

## 2. ドキュメント管理

プロジェクト直下に `.docs/` ディレクトリを作成し、以下のルールで管理・運用する。

* `.docs/AGENTS.md`: プロジェクトの開発者、開発者の組織、開発者の連絡先を記載する。
* `.docs/CLAUDE.md`: プロジェクトの目的、目標、ルール、活用した技術について説明する。
* `.docs/copilot-instructions.md`: Codeium Copilotの使用方法や活用方法を記載する。
* `.docs/update.md`: 重要な変更や更新が発生した際は、都度このファイルに追記する。
* **運用ルール**: プロジェクト直下の `.docs/` の内容は常に整理し、必要に応じて更新を行うこと。

## 3. バージョン管理と起動コマンド

* **Pythonバージョン管理**: "python install manager" を使用する前提とする。
* **起動コマンド**: `py -3.?? script name` （??はバージョン番号）の形式を使用する。

## 4. ライブラリ導入とトラブルシュート

* 適切なライブラリ管理手法（requirements.txt, pipenv, poetry等、プロジェクトの規定に従う）を用いること。
* エラー発生時は、根拠のあるトラブルシューティング手順に従うこと。

## 5. リファクタリングとコード品質

* **コード重複・冗長構造の排除**: 発見次第、都度排除する。
* **モジュール化**: 一つのスクリプトのコード量が膨大になりすぎないよう、適宜別スクリプトに切り出す。
* **単一責任の原則 (SRP)**: 機能ごとにモジュール化し、管理しやすくする。
* **ファイル行数制限**: 1ファイルあたり **1000行以内** を推奨目安とする。
* **共通処理の分離**: 共通処理はユーティリティやヘルパー関数として分離する。
* **粒度**: クラスや関数は適切な粒度で分割し、可読性と保守性を向上させる。

## 6. デバッグ

* **ログ出力**: バグの原因特定のため、詳細なログ出力を実装・提案する。
* **デバッグモード**:
    1. デバッグモードを有効にし、エラーメッセージを確認する手順を踏む。
    2. 修正後、デバッグモードを無効にし、正常動作することを確認する。

## 7. データベース操作（厳守事項）

* **ユーザー確認の必須化**: データベースをリセット・削除・初期化する必要がある時は、**必ずユーザーの明確な許可を得ること。**
* **警告**: データ損失のリスクがある操作は、事前に明確に警告を行うこと。確認なしでの自動実行は厳禁とする。
* **バックアップ**: 操作前にバックアップの有無を確認し、必要に応じてバックアップ取得を推奨する。
* **影響範囲の明示**: 削除されるデータの量や種類（影響範囲）を具体的に明示すること。

## 8. フロントエンド実装方針（HTML/CSS/JSの分離）

* **関心事の分離**: ウェブフロントエンドのコードを作成する際は、構造(HTML)、スタイル(CSS)、ロジック(JavaScript)を明確に分離すること。
* **ファイル分割**: 原則として単一ファイル内にコードを混在させず、適切に別ファイル（`.html`, `.css`, `.js`）へ切り出して作成・管理するよう指示・実装すること。
* **インライン記述の回避**: 特別な理由がない限り、インラインスタイルやHTMLタグ内のイベントハンドラ記述は避け、保守性の高いコード構成にすること。
